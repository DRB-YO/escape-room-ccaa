<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<title>Escape Room Espa√±a</title>
<style>
body {
  font-family: Arial, sans-serif;
  margin: 0;
  background: #eef2f5;
}
h1 { text-align: center; margin: 10px 0; }
#progreso { text-align: center; font-weight: bold; margin-bottom: 10px; }

#contenedor {
  display: flex;
  height: 85vh;
}
#etiquetas {
  width: 28%;
  background: white;
  padding: 10px;
  border-right: 2px solid #ccc;
  overflow-y: auto;
}
.etiqueta {
  background: #ffd966;
  padding: 8px;
  margin: 6px 0;
  cursor: grab;
  text-align: center;
  border-radius: 6px;
  font-weight: bold;
}

#mapa {
  width: 72%;
  position: relative;
}
#mapa img {
  width: 100%;
  height: auto;
  display: block;
}

/* Zonas invisibles para arrastrar */
.zona {
  position: absolute;
  border: 2px solid transparent;
  cursor: pointer;
}
.correcta {
  border: 2px solid green;
  opacity: 0.6;
}
</style>
</head>
<body>

<h1>Escape Room: Comunidades Aut√≥nomas de Espa√±a</h1>
<div id="progreso">Completadas: 0 / 17</div>

<div id="contenedor">
<div id="etiquetas">
  <div class="etiqueta" draggable="true" data-id="andalucia">Andaluc√≠a</div>
  <div class="etiqueta" draggable="true" data-id="aragon">Arag√≥n</div>
  <div class="etiqueta" draggable="true" data-id="asturias">Asturias</div>
  <div class="etiqueta" draggable="true" data-id="baleares">Islas Baleares</div>
  <div class="etiqueta" draggable="true" data-id="canarias">Islas Canarias</div>
  <div class="etiqueta" draggable="true" data-id="cantabria">Cantabria</div>
  <div class="etiqueta" draggable="true" data-id="castilla-lamancha">Castilla-La Mancha</div>
  <div class="etiqueta" draggable="true" data-id="castilla-leon">Castilla y Le√≥n</div>
  <div class="etiqueta" draggable="true" data-id="cataluna">Catalu√±a</div>
  <div class="etiqueta" draggable="true" data-id="comunidad-valenciana">Comunidad Valenciana</div>
  <div class="etiqueta" draggable="true" data-id="extremadura">Extremadura</div>
  <div class="etiqueta" draggable="true" data-id="galicia">Galicia</div>
  <div class="etiqueta" draggable="true" data-id="madrid">Madrid</div>
  <div class="etiqueta" draggable="true" data-id="murcia">Murcia</div>
  <div class="etiqueta" draggable="true" data-id="navarra">Navarra</div>
  <div class="etiqueta" draggable="true" data-id="pais-vasco">Pa√≠s Vasco</div>
  <div class="etiqueta" draggable="true" data-id="rioja">La Rioja</div>
</div>

<div id="mapa">
  <img src="https://upload.wikimedia.org/wikipedia/commons/2/2e/Spain_location_map_blank.png" alt="Mapa de Espa√±a">
  
  <!-- Zonas (coordenadas aproximadas en % para ajustar sobre la imagen) -->
  <div class="zona" id="andalucia" style="top:75%; left:25%; width:15%; height:10%;"></div>
  <div class="zona" id="aragon" style="top:35%; left:60%; width:10%; height:10%;"></div>
  <div class="zona" id="asturias" style="top:20%; left:15%; width:5%; height:5%;"></div>
  <div class="zona" id="baleares" style="top:40%; left:85%; width:5%; height:5%;"></div>
  <div class="zona" id="canarias" style="top:85%; left:85%; width:10%; height:5%;"></div>
  <div class="zona" id="cantabria" style="top:25%; left:20%; width:5%; height:5%;"></div>
  <div class="zona" id="castilla-lamancha" style="top:50%; left:50%; width:10%; height:10%;"></div>
  <div class="zona" id="castilla-leon" style="top:30%; left:35%; width:15%; height:10%;"></div>
  <div class="zona" id="cataluna" style="top:30%; left:75%; width:10%; height:10%;"></div>
  <div class="zona" id="comunidad-valenciana" style="top:50%; left:75%; width:8%; height:8%;"></div>
  <div class="zona" id="extremadura" style="top:50%; left:30%; width:10%; height:10%;"></div>
  <div class="zona" id="galicia" style="top:15%; left:10%; width:10%; height:10%;"></div>
  <div class="zona" id="madrid" style="top:45%; left:50%; width:5%; height:5%;"></div>
  <div class="zona" id="murcia" style="top:60%; left:75%; width:5%; height:5%;"></div>
  <div class="zona" id="navarra" style="top:25%; left:55%; width:5%; height:5%;"></div>
  <div class="zona" id="pais-vasco" style="top:25%; left:45%; width:5%; height:5%;"></div>
  <div class="zona" id="rioja" style="top:30%; left:50%; width:5%; height:5%;"></div>
</div>
</div>

<script>
const etiquetas = document.querySelectorAll('.etiqueta');
const zonas = document.querySelectorAll('.zona');
let correctas = 0;

etiquetas.forEach(e => {
  e.addEventListener('dragstart', ev => {
    ev.dataTransfer.setData('text', e.dataset.id);
  });
});

zonas.forEach(z => {
  z.addEventListener('dragover', ev => ev.preventDefault());
  z.addEventListener('drop', ev => {
    ev.preventDefault();
    const id = ev.dataTransfer.getData('text');
    if(z.id === id && !z.classList.contains('correcta')){
      z.classList.add('correcta');
      document.querySelector(`.etiqueta[data-id="${id}"]`).remove();
      correctas++;
      document.getElementById('progreso').textContent = `Completadas: ${correctas} / 17`;
      if(correctas === 17){
        alert("üéâ ¬°Has completado el mapa de Espa√±a!");
      }
    } else {
      alert("‚ùå No es correcto. Int√©ntalo de nuevo.");
    }
  });
});
</script>

</body>
</html>
